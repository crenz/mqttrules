{
  "config": {
    "broker": "tcp://test.mosquitto.org:1883",
    "clientID": "mqttrules"
    "username": "",
    "password": "",
    "allowRulesUpdate": true
    "prefix": "mqttrules"
  },
  "parameters": {
    "alive_counter": {
      "value": "{ \"value\": 0 }"
      "topic": "home/mqttrules/alive"
      "expression": "payload(\"$.value\")"
    }
    "lights_kitchen_state": {
      "value": "",
      "topic": "home/lights/kitchen/status",
      "expression": "payload(\"$.on\")"
    }
  },
  "rules": {
    "general": {
      "alive": {
        "schedule": "@every 1s"
        "actions": [
          {
            "topic": "home/mqttrules/alive"
            "payload": "I'm still alive!"
            "qos": 1
            "retain": false
          }
        ]
      }
    },
    "lights": {
      "kitchen-switch": {
        "trigger": "home/buttons/kitchen/status",
        "condition": "payload() > 0",
        "actions": [
          {
            "topic": "home/lights/kitchen/set",
            "payload": "{ \"on\" : ${!lights_kitchen_state}}",
            "qos": 2,
            "retain": false
          }
        ]
      }
    }
  }
}